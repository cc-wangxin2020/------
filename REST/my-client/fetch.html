<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button id="btn">点击</button>
    <div id="root"></div>
    <script>
        const btn = document.getElementById('btn')
        btn.onclick = () => {
            /* 
                fetch
                    - fetch是xhr的升级版，采用的是promiseAPI
                    - 作用和AJAX是一样的，但是使用起来更加友好
                    - fetch是原生JS就支持的一种ajax请求
            */
           // fetch只有一个路径作为参数表示当前是get请求
            fetch("http://localhost:3000/students")
                .then(res => {
                    if(res.status === 200){
                        // res.json() 可以用来读取json格式的数据
                        return res.json()
                    }else{
                        throw new Error('加载失败')
                    }
                })
                .then(res => {
                    console.log(res);
                })
                .catch(err => {
                    console.log(err);
                })
        }
    </script>
</body>

</html>